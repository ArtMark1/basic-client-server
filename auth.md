## Регистрация

1. Открытие формы регистрации
2. Ввод данных:
    - ФИО
    - email
    - пароль
    - повтор пароля
3. Отправка формы
4. Обработка формы:
    - проверка, что всё заполнено
    - пароли одинаковые
    - пароль длиннее 6 символов
5. Отправка запроса регистрации на сервер
6. Принятие запроса сервером
7. Обработка запроса:
    - проверка полноты данных
    - проверка валидности данных
    - проверка уникальности почты в базе
8. Создание записи в базе данных:
    - id
    - еmail
    - хэш пароля
    - ФИО
    - дата регистрации
    - статус "кандидат"
9. Отправка ответа клиенту
10. Обработка ответа в браузере
11. Уведомление пользователя о необходимости подтвердить почту


## Подтверждение почты

1. Открытие письма
2. Переход по ссылке в письме
3. Отправка запроса подтверждения серверу
4. Принятие запроса сервером
5. Обработка запроса:
    - нахождение записи в базе данных
    - установка статуса "пользователь"
6. Переадресация запроса на страницу профиля


## Авторизация

1. Открытие формы авторизации
2. Ввод данных:
    - email
    - пароль
3. Отправка формы
4. Обработка формы:
    - проверка, что всё заполнено
5. Отправка запроса авторизации на сервер
6. Принятие запроса сервером
7. Обработка запроса:
    - нахождение пользователя в базе по email
    - проверка совпадения пароля с хэшем пользователя
8. Формирование ответа:
    - генерация токена
    - сохранение токена в сессиях в базе данных
    - установка заголовка куки с токеном
9. Отправка ответа клиенту
10. Обработка ответа в браузере
11. Переадресация пользователя на последнюю страницу


#### Процесс регистрации, подтверждения почты и авторизации, описанный вами, выглядит логичным и соответствует типичным практикам для подобных функций веб-приложений. Давайте рассмотрим каждый шаг более подробно:

Регистрация:
1. Открытие формы регистрации: Пользователь получает доступ к веб-странице с формой регистрации.
2. Ввод данных: Пользователь вводит свои ФИО, email, пароль и повтор пароля.
3. Отправка формы: Пользователь нажимает на кнопку "Отправить" для отправки заполненной формы.
4. Обработка формы: Сервер выполняет несколько проверок, включая проверку на заполненность всех полей, совпадение паролей и достаточную длину пароля.
5. Отправка запроса регистрации на сервер: Если все данные прошли проверку, клиентский браузер отправляет запрос на сервер с информацией о регистрации.
6. Принятие запроса сервером: Сервер принимает запрос регистрации и начинает его обработку.
7. Обработка запроса: Сервер проверяет полноту и валидность данных, а также проверяет, что указанный email уникален в базе данных.
8. Создание записи в базе данных: Если данные прошли все проверки, сервер создает новую запись в базе данных с уникальным идентификатором (id), email, хэшем пароля, ФИО, датой регистрации и статусом "кандидат".
9. Отправка ответа клиенту: Сервер отправляет ответ клиенту, сообщая о успешной регистрации или возможных ошибках.
10. Обработка ответа в браузере: Клиентский браузер обрабатывает полученный ответ от сервера, отображая соответствующее сообщение пользователю.
11. Уведомление пользователя о необходимости подтвердить почту: Сервер отправляет пользователю уведомление или подтверждение по электронной почте, с инструкциями о необходимости подтвердить свой email.

Подтверждение почты:
1. Открытие письма: Пользователь открывает письмо, полученное на свой зарегистрированный email.
2. Переход по ссылке в письме: Пользователь переходит по ссылке в письме, которая ведет на страницу подтверждения email.
3. Отправка запроса подтверждения серверу: Клиентский браузер отправляет запрос на сервер для подтверждения email.
4. Принятие запроса сервером: Сервер принимает запрос и начинает его обработку.
5. Обработка запроса: Сервер находит запись в базе данных, соответствующую указанному email, и устанавливает статус пользователя на "пользователь".
6. Переадресация запроса на страницу профиля: Сервер перенаправляет запрос на страницу профиля пользователя.

Авторизация:
1. Открытие формы авторизации: Пользователь получает доступ к веб-странице с формой авторизации.
2. Ввод данных: Пользователь вводит свой email и пароль.
3. Отправка формы: Пользователь нажимает на кнопку "Отправить" для отправки заполненной формы.
4. Обработка формы: Сервер проверяет, что все поля заполнены.
5. Отправка запроса авторизации на сервер: Клиентский браузер отправляет запрос на серверс информацией для авторизации.
6. Принятие запроса сервером: Сервер принимает запрос авторизации и начинает его обработку.
7. Обработка запроса: Сервер ищет пользователя в базе данных по указанному email и проверяет совпадение пароля с хэшем, хранящимся в базе данных.
8. Формирование ответа: Если данные авторизации верны, сервер генерирует токен, сохраняет его в сессиях в базе данных и устанавливает заголовок куки с токеном.
9. Отправка ответа клиенту: Сервер отправляет ответ клиенту, содержащий токен или сообщение об ошибке.
10. Обработка ответа в браузере: Клиентский браузер обрабатывает полученный ответ от сервера.
11. Переадресация пользователя на последнюю посещенную страницу: После успешной авторизации, сервер перенаправляет пользователя на последнюю посещенную страницу или на страницу профиля.

Это общая схема процесса регистрации, подтверждения почты и авторизации. Конкретные детали и реализация могут варьироваться в зависимости от конкретной платформы или фреймворка, который вы используете для разработки веб-приложения.